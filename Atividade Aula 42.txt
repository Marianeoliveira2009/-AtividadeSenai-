/*Nome do arquivo: Exescicio aula 39
Autor: Mariane S Oliveira 
Data:21/03/2025
Descrição:descricao: programar o botao para que as setas mudem de 
linha no cursos, programar os leds e botoes para que assim quando
um botao for pressionado ele ligue um led.
*/

#include <LiquidCrystal_I2C.h>

#define pinLed1 10
#define pinLed2 11
#define Botao1 0
#define Botao2 145  
#define Botao3 329
#define Botao4 505
#define Botao5 741

//********* INSTANCIAS DE OBJETOS *************
LiquidCrystal_I2C lcd(0x27, 16, 2);

void setup()
{
  pinMode(pinLed1, OUTPUT);
  pinMode(pinLed2, OUTPUT);
  lcd.init();  //inicia p lcd msm coisa do serial bergin
  lcd.backlight();  //liga as linhas de fundo do display
  lcd.setCursor(0,0);
  lcd.print("  LED A OFF");
  lcd.setCursor(0,1);
  lcd.print("  LED B OFF");
}

void loop()
{
  static bool posicao = 0;
  static bool atualizacao = 0;
  static bool estadoLedA = 0;
  static bool estadoLedB = 0;
  static bool valorinicial = 0;
  static int valorAnterior = 1023;
  int valor = analogRead(A0);
  
  
  //BOTAO 1
  if(valor == Botao1 && valorAnterior == 1023)
  {
    posicao = 0;
  }
  //BOTAO 2
  if(valor  >= Botao2 * 0.9 && valor <= Botao2 * 1.1 
        && valorAnterior == 1023 )
  {
    posicao = 1;
  }
  //BOTAO 3
   if ( valor  >= Botao3 * 0.9 && valor <= Botao3 * 1.1 
           && valorAnterior == 1023 ){}
  
  //BOTAO 4
   if ( valor  >= Botao4 * 0.9 && valor <= Botao4 * 1.1
           && valorAnterior == 1023 ){}
  
  //BOTAO 5
   if (valor  >= Botao5 * 0.9 && valor <= Botao5 * 1.1  &&
       valorAnterior == 1023 )
   		{
        if(posicao)
        {
          estadoLedB = !estadoLedB;
    digitalWrite(pinLed2, estadoLedB);
          
        }
     
     else
     {
        estadoLedA = !estadoLedA;
    digitalWrite(pinLed1, estadoLedA);
     }
      
    
     }
   
  //***** ATUALIZACAO DOS LED *****
  
  //*****LED A*********
  if( estadoLedA == !estadoLedA){
    digitalWrite(pinLed1, estadoLedA);
     }
  else if( estadoLedA == 1){
     lcd.setCursor(2,0);
     lcd.print("LED A ON ");
     }
  else if(estadoLedA == 0){
     lcd.setCursor(2,0);
     lcd.print("LED A OFF");
     } 
  //*****LED B*********
  if( estadoLedB == !estadoLedB){
    digitalWrite(pinLed1, estadoLedA);
     }
  else if( estadoLedB == 1 ){
    lcd.setCursor(2,1);
    lcd.print("LED B ON "); 
  }
   else if( estadoLedB == 0 ){
    lcd.setCursor(2,1);
    lcd.print("LED B OFF "); 
   }  
  //************atualizar display *******
  if(posicao == 0) //seta 
  {
    lcd.setCursor(0,0);
    lcd.print(">");
     lcd.setCursor(0,1);
    lcd.print(" ");
  }
   else
   {
    lcd.setCursor(0,1);
    lcd.print(">");
   lcd.setCursor(0,0);
    lcd.print(" ");
   }
   }
